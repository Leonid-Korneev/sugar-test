{"version":3,"sources":["components/SearchForm/SearchForm.module.css","App.module.css","components/Table/Table.module.css","components/Preloader/Preloader.jsx","Api/ApiRequests.js","components/Table/Table.jsx","components/SearchForm/SearchForm.jsx","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Preloader","className","apiRequest","clients","requestIsFinished","page","axios","response","data","length","Table","currentPage","pageSize","map","client","id","slice","style","failed_search_block","SearchForm","getFilteredClients","useForm","register","handleSubmit","onSubmit","searchField","form","form_block","input","onChange","name","placeholder","ref","App","useState","setClients","filteredClients","setFilteredClients","isFetching","setIsFetching","totalClientsCount","setTotalClientsCount","setCurrentPage","count","Math","ceil","useEffect","a","fetchData","filterString","filter","toLowerCase","includes","footer_wrapper","Pagination","e","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.affaabe6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"SearchForm_input__1Nqh3\",\"button_submit\":\"SearchForm_button_submit__3q4Cd\",\"form_block\":\"SearchForm_form_block__tB0jQ\",\"form\":\"SearchForm_form__2f-fJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer_wrapper\":\"App_footer_wrapper__1W3Uv\",\"showMoreUser_btn\":\"App_showMoreUser_btn__1MFgC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table_wrapper\":\"Table_table_wrapper__1W1ek\",\"failed_search_block\":\"Table_failed_search_block__1xAAR\"};","\r\n\r\n\r\nexport const Preloader = ()=> {\r\n\r\n    return ( <div className=\"preloader-container\"><div className=\"lds-dual-ring\"/></div>)\r\n}","import * as axios from \"axios\";\r\n\r\nexport const apiRequest = {\r\n\r\n    async getClients() {\r\n        let clients = []\r\n        let requestIsFinished = false\r\n        let page = 1\r\n        while (!requestIsFinished) {\r\n            let response = await axios.get(`https://us-central1-smooth-topic-238416.cloudfunctions.net/test-fn?page=${page}`)\r\n            if (response.data.length) {\r\n                clients = [...clients, ...response.data]\r\n                page += 1\r\n            } else {\r\n                requestIsFinished = true\r\n            }\r\n        }\r\n        return clients\r\n    }\r\n}","import React from \"react\";\r\nimport style from \"./Table.module.css\"\r\n\r\n\r\nexport const Table = ({clients, currentPage, pageSize}) => {\r\n    return (\r\n        <>\r\n            {clients.length ?\r\n                <table className=\"table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th>ID</th>\r\n                        <th>First Name</th>\r\n                        <th>Last Name</th>\r\n                        <th>Email Name</th>\r\n                    </tr>\r\n                    {clients.map(client => (\r\n                        <tr key={client.id}>\r\n                            <td>{client.id}</td>\r\n                            <td>{client[\"first_name\"]}</td>\r\n                            <td>{client[\"last_name\"]}</td>\r\n                            <td>{client[\"email\"]}</td>\r\n                        </tr>\r\n                    )).slice((currentPage - 1) * pageSize, currentPage * pageSize)}\r\n                    </thead>\r\n                    <tbody>\r\n                    </tbody>\r\n                </table> :\r\n                <div className={style.failed_search_block}> Не удалость найти клиента по заданным параметрам</div>\r\n            }\r\n        </>\r\n    )\r\n}","import {useForm} from \"react-hook-form\";\r\nimport React from \"react\";\r\nimport style from \"./SearchForm.module.css\"\r\n\r\nexport const SearchForm = ({getFilteredClients}) => {\r\n    const {register, handleSubmit} = useForm();\r\n\r\n    const onSubmit = data => {\r\n        getFilteredClients(data.searchField)\r\n    }\r\n\r\n    return (\r\n        <form className={style.form} onSubmit={handleSubmit(onSubmit)}>\r\n            <div className={style.form_block}>\r\n                <input className={style.input} onChange={handleSubmit(onSubmit)} name=\"searchField\"\r\n                       placeholder={\"Search...\"} ref={register}/>\r\n                {/*<button className={style.button_submit} type=\"submit\"> Search</button>*/}\r\n            </div>\r\n        </form>\r\n    )\r\n}","    import style from \"./App.module.css\"\r\n    import \"./components/Preloader/Preloader.css\"\r\n    import React, {useEffect, useState} from \"react\";\r\n    import \"bootstrap/dist/css/bootstrap.min.css\"\r\n    import {Preloader} from \"./components/Preloader/Preloader\";\r\n    import {apiRequest} from \"./Api/ApiRequests\";\r\n    import {Table} from \"./components/Table/Table\";\r\n    import {SearchForm} from \"./components/SearchForm/SearchForm\";\r\n    import Pagination from '@material-ui/lab/Pagination';\r\n\r\n\r\n    function App() {\r\n        const [clients, setClients] = useState([])\r\n        const [filteredClients, setFilteredClients] = useState([])\r\n        const [isFetching, setIsFetching] = useState(true)\r\n        const [totalClientsCount, setTotalClientsCount] = useState(0)\r\n        const [currentPage, setCurrentPage] = useState(1)\r\n        const pageSize = 25\r\n        const count = Math.ceil(totalClientsCount / pageSize)\r\n\r\n        const getFilteredClients = (filterString) => {\r\n            setFilteredClients([...clients.filter((client) => {\r\n                    return (client[\"first_name\"].toLowerCase().includes(`${filterString.toLowerCase()}`)) ||\r\n                        (client[\"last_name\"].toLowerCase().includes(`${filterString.toLowerCase()}`))\r\n                }\r\n            )])\r\n            setCurrentPage(1)\r\n        }\r\n\r\n        useEffect(() => {\r\n            setTotalClientsCount(filteredClients.length)\r\n        }, [filteredClients])\r\n\r\n        useEffect(() => {\r\n            async function fetchData() {\r\n                setIsFetching(true)\r\n                setClients(await apiRequest.getClients())\r\n                setIsFetching(false)\r\n            }\r\n            fetchData()\r\n        }, [])\r\n\r\n        useEffect(() => {\r\n            setFilteredClients([...clients])\r\n            setTotalClientsCount(clients.length)\r\n        }, [clients])\r\n\r\n        return (\r\n            <div className=\"container\">\r\n                {isFetching ? <Preloader/> : <>\r\n                    <SearchForm getFilteredClients={getFilteredClients}/>\r\n                    <Table pageSize={pageSize} currentPage={currentPage} clients={filteredClients}/>\r\n                    <div className={style.footer_wrapper}>\r\n                        <Pagination count={count} page={currentPage} onChange={(e, page) => {\r\n                            setCurrentPage(page)\r\n                        }}/>\r\n                     </div>\r\n                </>}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    export default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\nreportWebVitals();\n"],"sourceRoot":""}