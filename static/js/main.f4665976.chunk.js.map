{"version":3,"sources":["components/SearchForm/SearchForm.module.css","App.module.css","components/Table/Table.module.css","components/Preloader/Preloader.jsx","Api/ApiRequests.js","components/Table/Table.jsx","components/SearchForm/SearchForm.jsx","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Preloader","className","apiRequest","page","axios","Table","clients","currentPage","pageSize","length","map","client","id","slice","style","failed_search_block","SearchForm","getFilteredClients","useForm","register","handleSubmit","onSubmit","data","searchField","form","form_block","input","onChange","name","placeholder","ref","button_submit","type","App","useState","setClients","filteredClients","setFilteredClients","isFetching","setIsFetching","lastPage","setLastPage","totalClientsCount","setTotalClientsCount","setCurrentPage","count","Math","ceil","useEffect","then","response","filterString","filter","toLowerCase","includes","footer_wrapper","Pagination","e","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f4665976.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"SearchForm_input__1Nqh3\",\"button_submit\":\"SearchForm_button_submit__3q4Cd\",\"form_block\":\"SearchForm_form_block__tB0jQ\",\"form\":\"SearchForm_form__2f-fJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer_wrapper\":\"App_footer_wrapper__1W3Uv\",\"showMoreUser_btn\":\"App_showMoreUser_btn__1MFgC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table_wrapper\":\"Table_table_wrapper__1W1ek\",\"failed_search_block\":\"Table_failed_search_block__1xAAR\"};","\r\n\r\n\r\nexport const Preloader = ()=> {\r\n\r\n    return ( <div className=\"preloader-container\"><div className=\"lds-dual-ring\"/></div>)\r\n}","\r\nimport * as axios from \"axios\";\r\n\r\nexport const apiRequest = {\r\n    getClients(page) {\r\n        return axios.get(`https://us-central1-smooth-topic-238416.cloudfunctions.net/test-fn?page=${page}`)\r\n    }\r\n\r\n\r\n\r\n}","import React from \"react\";\r\nimport style from \"./Table.module.css\"\r\n\r\n\r\nexport const Table = ({clients, currentPage, pageSize}) => {\r\n\r\n    return (\r\n\r\n        <>\r\n\r\n        { clients.length ?\r\n\r\n                <table  className=\"table\">\r\n                    <thead>\r\n                    <tr>\r\n                        <th>ID</th>\r\n                        <th>First Name</th>\r\n                        <th>Last Name</th>\r\n                        <th>Email Name</th>\r\n\r\n                    </tr>\r\n\r\n                    {clients.map(client => (\r\n                        <tr key={client.id}>\r\n                            <td>{client.id}</td>\r\n                            <td>{client[\"first_name\"]}</td>\r\n                            <td>{client[\"last_name\"]}</td>\r\n                            <td>{client[\"email\"]}</td>\r\n                        </tr>\r\n                    )).slice((currentPage - 1) * pageSize, currentPage * pageSize)}\r\n\r\n\r\n                    </thead>\r\n                    <tbody>\r\n\r\n                    </tbody>\r\n                </table> : <div className={style.failed_search_block}> Не удалость найти клиента по заданным параметрам</div>\r\n\r\n\r\n\r\n\r\n  }\r\n        </>\r\n\r\n\r\n    )\r\n\r\n}","import {useForm} from \"react-hook-form\";\r\nimport React from \"react\";\r\nimport style from \"./SearchForm.module.css\"\r\n\r\nexport const SearchForm = ({getFilteredClients}) => {\r\n\r\n    const { register, handleSubmit } = useForm();\r\n    const onSubmit = data => { getFilteredClients(data.searchField)}\r\n    return (\r\n\r\n        <form className={style.form} onSubmit={handleSubmit(onSubmit)}>\r\n\r\n            <div className={style.form_block}>\r\n            <input className={style.input}  onChange={handleSubmit(onSubmit)} name=\"searchField\" placeholder={\"Search...\"} ref={register} />\r\n            <button className={style.button_submit} type=\"submit\"> Search</button>\r\n            </div>\r\n        </form>\r\n\r\n\r\n\r\n\r\n    )\r\n\r\n\r\n}","import style from \"./App.module.css\"\nimport \"./components/Preloader/Preloader.css\"\nimport React, {useEffect, useState} from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport {Preloader} from \"./components/Preloader/Preloader\";\nimport {apiRequest} from \"./Api/ApiRequests\";\nimport {Table} from \"./components/Table/Table\";\nimport {SearchForm} from \"./components/SearchForm/SearchForm\";\nimport Pagination from '@material-ui/lab/Pagination';\n\n\nfunction App() {\n    const [clients, setClients] = useState([])\n    const [filteredClients, setFilteredClients] = useState([])\n    const [isFetching, setIsFetching] = useState(true)\n    const [lastPage, setLastPage] = useState(1)\n    const [totalClientsCount, setTotalClientsCount] = useState(0)\n    const [currentPage, setCurrentPage] = useState(1)\n    const pageSize = 25\n    const count = Math.ceil(totalClientsCount/pageSize)\n\n    const getFilteredClients = (filterString) => {\n        setFilteredClients([...clients.filter((client) => {\n            debugger\n                return (client[\"first_name\"].toLowerCase().includes(`${filterString.toLowerCase()}`)) ||\n                    (client[\"last_name\"].toLowerCase().includes(`${filterString.toLowerCase()}`))\n            }\n        )])\n\n        setCurrentPage(1)\n\n\n    }\n\n\n    useEffect(()=> {\n        setTotalClientsCount(filteredClients.length)\n    },[filteredClients])\n    useEffect(() => {\n        setIsFetching(true)\n        apiRequest.getClients(lastPage).then(\n            (response) => {\n\n                if(response.data.length) {\n\n                    setClients(()=> [...clients, ...response.data])\n                    setLastPage(lastPage+1)\n\n                } else {\n                    setIsFetching(false)\n                }\n\n\n\n\n\n\n            }\n        )\n    }, [lastPage])\n    useEffect(()=>{\n        setFilteredClients([...clients])\n        setTotalClientsCount(clients.length)\n    },[clients])\n\n\n\n    return (\n        <div className=\"container\">\n            {isFetching ? <Preloader/> : <>\n                <SearchForm getFilteredClients={getFilteredClients}/>\n                <Table  pageSize={pageSize} currentPage={currentPage} clients={  filteredClients  }/>\n\n                <div className={style.footer_wrapper}>\n                <Pagination   count={count} page={currentPage} onChange={\n                    (e,page)=>{setCurrentPage(page)}\n                }/>\n\n                {/*<button className={style.showMoreUser_btn} onClick={()=>{setLastPage(lastPage+1)}}>Show more clients </button>*/}\n                </div>\n                </>}\n\n\n        </div>\n    );\n\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\nreportWebVitals();\n"],"sourceRoot":""}